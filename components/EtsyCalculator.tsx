'use client'; import { useState } from 'react'; export default function EtsyCalculator() { const [price, setPrice] = useState(''); const [shipping, setShipping] = useState(''); const [cost, setCost] = useState(''); const [profit, setProfit] = useState<number | null>(null); const [details, setDetails] = useState<any>(null); const calculate = () => { const p = parseFloat(price) || 0; const s = parseFloat(shipping) || 0; const c = parseFloat(cost) || 0; const listingFee = 0.20; // .20 const exchangeRate = 100; // Курс USD/RUB (заглушка) const listingFeeRub = listingFee * exchangeRate; const transactionFee = (p + s) * 0.065; // 6.5% const processingFee = (p + s) * 0.03 + 0.25 * exchangeRate; // 3% + .25 const totalFees = listingFeeRub + transactionFee + processingFee; const netProfit = p + s - c - totalFees; setProfit(Math.round(netProfit * 100) / 100); setDetails({ listingFee: Math.round(listingFeeRub * 100) / 100, transactionFee: Math.round(transactionFee * 100) / 100, processingFee: Math.round(processingFee * 100) / 100, totalFees: Math.round(totalFees * 100) / 100 }); }; return ( <div className='space-y-4'> <h2 className='text-2xl font-bold mb-4'>Калькулятор прибыли Etsy</h2> <input type='number' placeholder='Цена товара (₽)' value={price} onChange={(e) => setPrice(e.target.value)} className='w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500' /> <input type='number' placeholder='Доставка (₽)' value={shipping} onChange={(e) => setShipping(e.target.value)} className='w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500' /> <input type='number' placeholder='Себестоимость (₽)' value={cost} onChange={(e) => setCost(e.target.value)} className='w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500' /> <button onClick={calculate} className='w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors'>Посчитать</button> {profit !== null && details && ( <div className='mt-4 p-4 bg-gray-100 rounded-lg space-y-2'> <p className='text-lg'>Чистая прибыль: <span className='font-bold text-green-600'>{profit} ₽</span></p> <details className='mt-2'> <summary className='cursor-pointer text-sm text-gray-600'>Подробный расчет</summary> <ul className='mt-2 text-sm space-y-1'> <li>Размещение: {details.listingFee} ₽</li> <li>Комиссия 6.5%: {details.transactionFee} ₽</li> <li>Обработка платежа: {details.processingFee} ₽</li> <li className='font-semibold pt-1 border-t'>Итого комиссий: {details.totalFees} ₽</li> </ul> </details> </div> )} </div> ); }