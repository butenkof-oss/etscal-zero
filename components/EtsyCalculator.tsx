'use client'; import { useState } from 'react'; import { generatePDF } from '@/components/PDFReport'; export default function EtsyCalculator() { const [price, setPrice] = useState(''); const [shipping, setShipping] = useState(''); const [cost, setCost] = useState(''); const [profit, setProfit] = useState(0); const [showPDF, setShowPDF] = useState(false); const calculate = () => { const p = parseFloat(price) || 0; const s = parseFloat(shipping) || 0; const c = parseFloat(cost) || 0; const listingFee = 20; const transactionFee = (p + s) * 0.065; const processingFee = (p + s) * 0.03 + 25; const totalFees = listingFee + transactionFee + processingFee; const netProfit = p + s - c - totalFees; setProfit(Math.round(netProfit * 100) / 100); setShowPDF(true); }; const handlePDF = () => { alert('PDF будет доступен после оплаты 199 ₽'); }; return ( <div className='space-y-4'> <h2 className='text-2xl font-bold mb-4'>Калькулятор прибыли Etsy</h2> <input type='number' placeholder='Цена товара (₽)' value={price} onChange={(e) => setPrice(e.target.value)} className='w-full px-4 py-2 border border-gray-300 rounded-lg' /> <input type='number' placeholder='Доставка (₽)' value={shipping} onChange={(e) => setShipping(e.target.value)} className='w-full px-4 py-2 border border-gray-300 rounded-lg' /> <input type='number' placeholder='Себестоимость (₽)' value={cost} onChange={(e) => setCost(e.target.value)} className='w-full px-4 py-2 border border-gray-300 rounded-lg' /> <button onClick={calculate} className='w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700'>Посчитать</button> {profit !== 0 && ( <div> <div className='mt-4 p-4 bg-gray-100 rounded-lg'> <p className='text-lg'>Чистая прибыль: <span className='font-bold text-green-600'>{profit} ₽</span></p> </div> {showPDF && ( <button onClick={handlePDF} className='w-full mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700'>📄 Скачать PDF отчет (199 ₽)</button> )} </div> )} <div id='pdf-content' className='hidden'> <h1>EtsyCalc Отчет</h1> <p>Цена: {price} ₽</p> <p>Доставка: {shipping} ₽</p> <p>Себестоимость: {cost} ₽</p> <p>Прибыль: {profit} ₽</p> </div> </div> ); }